<div class="container-fluid">
    <app-page-title title="TransactionDashboard"></app-page-title>
    <div class="card">
        <div class="card-body container-fluid">
            <div class="row" [busyIf]="paymentPlanLoading">
                <label class="box-label">{{'PaymentPlan' | translate}}</label>
                <div class="col-md-4">
                    <div class="box-dashboard green">
                        <div class="img-section"><img src="../../../assets/images/calender-one.png" alt=""></div>
                        <div class="text">{{'Today' | translate}}</div>
                        <div class="records">{{paymentPlanData.todaysRecords}}</div>
                        <div class="amt"><span>{{paymentPlanData.todaysAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard green">
                        <div class="img-section"><img src="../../../assets/images/calendar-seven.png" alt=""></div>
                        <div class="text">{{'ThisWeek' | translate}}</div>
                        <div class="records">{{paymentPlanData.weeklyRecords}}</div>
                        <div class="amt"><span>{{paymentPlanData.weeklyAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard green">
                        <div class="img-section"><img src="../../../assets/images/calendar-thirty-one.png" alt=""></div>
                        <div class="text">{{'ThisMonth' | translate}}</div>
                        <div class="records">{{paymentPlanData.monthlyRecords}}</div>
                        <div class="amt"><span>{{paymentPlanData.monthlyAmount | currency}}</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-body container-fluid">
            <div class="row" [busyIf]="successfulDataLoading">
                <label class="box-label">{{'Successful' | translate}}</label>
                <div class="col-md-4">
                    <div class="box-dashboard blue">
                        <div class="img-section"><img src="../../../assets/images/calender-one.png" alt=""></div>
                        <div class="text">{{'Today' | translate}}</div>
                        <div class="records">{{successfulData.todaysRecords}}</div>
                        <div class="amt"><span>{{successfulData.todaysAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard blue">
                        <div class="img-section"><img src="../../../assets/images/calendar-seven.png" alt=""></div>
                        <div class="text">{{'ThisWeek' | translate}}</div>
                        <div class="records">{{successfulData.weeklyRecords}}</div>
                        <div class="amt"><span>{{successfulData.weeklyAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard blue">
                        <div class="img-section"><img src="../../../assets/images/calendar-thirty-one.png" alt=""></div>
                        <div class="text">{{'ThisMonth' | translate}}</div>
                        <div class="records">{{successfulData.monthlyRecords}}</div>
                        <div class="amt"><span>{{successfulData.monthlyAmount | currency}}</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-body container-fluid">
            <div class="row" [busyIf]="failureDataLoading">
                <label class="box-label">{{'Failure' | translate}}</label>
                <div class="col-md-4">
                    <div class="box-dashboard orange">
                        <div class="img-section"><img src="../../../assets/images/calender-one.png" alt=""></div>
                        <div class="text">{{'Today' | translate}}</div>
                        <div class="records">{{failureData.todaysRecords}}</div>
                        <div class="amt"><span>{{failureData.todaysAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard orange">
                        <div class="img-section"><img src="../../../assets/images/calendar-seven.png" alt=""></div>
                        <div class="text">{{'ThisWeek' | translate}}</div>
                        <div class="records">{{failureData.weeklyRecords}}</div>
                        <div class="amt"><span>{{failureData.weeklyAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard orange">
                        <div class="img-section"><img src="../../../assets/images/calendar-thirty-one.png" alt=""></div>
                        <div class="text">{{'ThisMonth' | translate}}</div>
                        <div class="records">{{failureData.monthlyRecords}}</div>
                        <div class="amt"><span>{{failureData.monthlyAmount | currency}}</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-body container-fluid overflow-auto">
            <div class="row align-items-center">
                <label class="box-label">{{'ReasonToFailure' | translate}}</label>
                <div class="primeng-datatable-container col-12" [busyIf]="primengTableHelperReasonFailure.isLoading">
                    <p-table #dataTable (onLazyLoad)="getReasonToFailures($event)"
                        [value]="primengTableHelperReasonFailure.records"
                        rows="{{primengTableHelperReasonFailure.defaultRecordsCountPerPage}}" [paginator]="false"
                        [lazy]="true" [scrollable]="true" ScrollWidth="100%"
                        [responsive]="primengTableHelperReasonFailure.isResponsive"
                        [resizableColumns]="primengTableHelperReasonFailure.resizableColumns">
                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width: 150px">
                                    {{'Contact' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Amount' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Reason' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Date' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Gateway' | translate}}
                                </th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-record="$implicit" let-i="rowIndex">
                            <tr>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Contact' | translate}}</span>
                                    {{record.contactName}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Amount' | translate}}</span>
                                    {{record.amount | currency}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Reason' | translate}}</span>
                                    {{record.reason}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Date' | translate}}</span>
                                    {{record.creationTime | date : 'yyyy-MM-dd'}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Gateway' | translate}}</span>
                                    {{record.gateway}}
                                </td>
                            </tr>

                        </ng-template>
                    </p-table>
                    <div class="primeng-no-data" *ngIf="primengTableHelperReasonFailure.totalRecordsCount == 0">
                        {{'NoData' | translate}}
                    </div>
                    <div class="primeng-paging-container">
                        <p-paginator [rows]="primengTableHelperReasonFailure.defaultRecordsCountPerPage" #paginator
                            (onPageChange)="getReasonToFailures($event)"
                            [totalRecords]="primengTableHelperReasonFailure.totalRecordsCount"
                            [rowsPerPageOptions]="primengTableHelperReasonFailure.predefinedRecordsCountPerPage"
                            [showCurrentPageReport]="true" [currentPageReportTemplate]="'TotalRecordsCount'">
                        </p-paginator>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-body container-fluid overflow-auto">
            <div class="row align-items-center">
                <label class="box-label">{{'GatewayBehaviour' | translate}}</label>
                <div class="primeng-datatable-container col-12" [busyIf]="primengTableHelperGatewayBehaviour.isLoading">
                    <p-table #dataTable1 (onLazyLoad)="getGatewayBehaviours($event)"
                        [value]="primengTableHelperGatewayBehaviour.records"
                        rows="{{primengTableHelperGatewayBehaviour.defaultRecordsCountPerPage}}" [paginator]="false"
                        [lazy]="true" [scrollable]="true" ScrollWidth="100%"
                        [responsive]="primengTableHelperGatewayBehaviour.isResponsive"
                        [resizableColumns]="primengTableHelperGatewayBehaviour.resizableColumns">
                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width: 150px">
                                    {{'Gateway' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Quantity' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Amount' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Status' | translate}}
                                </th>
                                <th style="width: 150px">
                                    {{'Date' | translate}}
                                </th>
                              
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-record="$implicit" let-i="rowIndex">
                            <tr>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Gateway' | translate}}</span>
                                    {{record.gateway}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Quantity' | translate}}</span>
                                    {{record.quantity}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Amount' | translate}}</span>
                                    {{record.amount | currency}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Status' | translate}}</span>
                                    {{record.status}}
                                </td>
                                <td style="width:150px">
                                    <span class="ui-column-title"> {{'Date' | translate}}</span>
                                    {{record.creationTime | date : 'yyyy-MM-dd'}}
                                </td>
                                
                            </tr>

                        </ng-template>
                    </p-table>
                    <div class="primeng-no-data" *ngIf="primengTableHelperGatewayBehaviour.totalRecordsCount == 0">
                        {{'NoData' | translate}}
                    </div>
                    <div class="primeng-paging-container">
                        <p-paginator [rows]="primengTableHelperGatewayBehaviour.defaultRecordsCountPerPage" #paginator1
                            (onPageChange)="getGatewayBehaviours($event)"
                            [totalRecords]="primengTableHelperGatewayBehaviour.totalRecordsCount"
                            [rowsPerPageOptions]="primengTableHelperGatewayBehaviour.predefinedRecordsCountPerPage"
                            [showCurrentPageReport]="true" [currentPageReportTemplate]="'TotalRecordsCount'">
                        </p-paginator>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-body container-fluid">
            <div class="row" [busyIf]="refundDataLoading">
                <label class="box-label">{{'Refunds' | translate}}</label>
                <div class="col-md-4">
                    <div class="box-dashboard red">
                        <div class="img-section"><img src="../../../assets/images/calender-one.png" alt=""></div>
                        <div class="text">{{'Today' | translate}}</div>
                        <div class="records">{{refundData.todaysRecords}}</div>
                        <div class="amt"><span>{{refundData.todaysAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard red">
                        <div class="img-section"><img src="../../../assets/images/calendar-seven.png" alt=""></div>
                        <div class="text">{{'ThisWeek' | translate}}</div>
                        <div class="records">{{refundData.weeklyRecords}}</div>
                        <div class="amt"><span>{{refundData.weeklyAmount | currency}}</span></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="box-dashboard red">
                        <div class="img-section"><img src="../../../assets/images/calendar-thirty-one.png" alt=""></div>
                        <div class="text">{{'ThisMonth' | translate}}</div>
                        <div class="records">{{refundData.monthlyRecords}}</div>
                        <div class="amt"><span>{{refundData.monthlyAmount | currency}}</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>